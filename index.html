<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Asteroid Game</title>
  </head>
  <body>
    <p>
      <label>Mute</label
      ><input type="checkbox" checked onclick="game.muted = !game.muted" />
    </p>
    <canvas
      id="minha-tela"
      width="800"
      height="400"
      style="border: #000 solid 1px;"
    >
    </canvas>
    <script>
      let canvas = document.getElementById("minha-tela");
      let ctx = canvas.getContext("2d");

      let ship = {
        x: canvas.width / 2,
        y: canvas.height / 5,
        r: SHIP_SIZE / 2,
        a: (90 / 180) * Math.PI, // convert to radians
      };

      const spaceship = new Image();
      spaceship.onload = function () {
        ctx.drawImage(spaceship, x, y, 100, 100);
      };
      spaceship.src = "./images/spaceship-u.png";

      //a função gameloop é chamada aqui
      requestAnimationFrame(gameloop);

      function gameloop() {
        ctx.clearRect(0, 0, 800, 400); //antes de fazer o desenho é preciso limpar o canvas
        // draw ship
        drawShip();

        requestAnimationFrame(gameloop);
      }

      function drawShip() {
        ctx.drawImage(spaceship, 100, 100, 50, 50);
      }
    </script>
  </body>
</html>
